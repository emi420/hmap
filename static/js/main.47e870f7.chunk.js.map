{"version":3,"sources":["app/lib/localStorageService.js","app/lib/createAxiosInterceptors.js","config/config.js","app/app/apis/index.js","app/app/sagas/index.js","app/models/layerType.js","app/app/reducers/index.js","app/app/store.js","app/serviceWorker.js","app/components/Map/MapLayers/MapLayers.js","app/components/LoginForm/styles.js","app/components/LoginForm/index.js","app/components/LoadingIndicator/index.js","app/app/utils/index.js","app/app/selectors/index.js","app/app/actions/index.js","app/components/LayersMenu/index.js","app/lib/getServerErrorMessage.js","app/lib/filterLayers.js","app/containers/Cockpit/Cockpit.js","app/containers/App/App.js","index.js"],"names":["LocalStorageService","_service","getService","this","setToken","tokenObj","access","localStorage","setItem","refresh","getAccessToken","getItem","getRefreshToken","clearToken","removeItem","localStorageService","MAP_DEFAULT_CENTER","api","axios","create","baseURL","withCredentials","interceptors","request","use","config","token","headers","error","Promise","reject","response","originalRequest","status","_retry","post","then","res","data","defaults","common","createAxiosInterceptors","API","postAccountToken","email","password","logout","console","log","Cookies","get","getMe","getUserLayers","getLatestModis24","getLatestViirs24","getLatestGoes","submitUserAuth","submitLogout","submitGetMe","submitGetUserLayers","actionWatcher","rootSaga","call","latestPoints","put","type","payload","action","isLoggedIn","takeEvery","all","LayerType","PUBLIC","Symbol","for","PRIVATE","ACTIVE_FIRES","BIG_FIRES","Set","Object","freeze","getPersistedVisibleLayers","persistedState","JSON","parse","map","persistVisibleLayers","visibleLayers","stringify","keyFor","deletePeristedVisibleLayers","getInitialState","VisibleLayerTypes","state","FIRMSLatestModis24Data","FIRMSLatestViirs24Data","GoesLatestData","UserAuthData","GetMeData","UserLayersData","layerType","has","delete","add","sagaMiddleware","createSagaMiddleware","configureStore","store","createStore","reducers","applyMiddleware","run","Boolean","window","location","hostname","match","MapLayers","props","layers","layer","hiddenLayers","indexOf","id","push","name","key","symbolLayout","symbolPaint","linePaint","circlePaint","fillPaint","circleOnClick","e","lngLat","styles","container","display","position","top","left","transform","alignItems","justifyContent","outline","form","background","width","borderRadius","padding","boxShadow","inputs","flexDirection","gap","LoginForm","open","setOpen","onSubmit","Modal","disableEnforceFocus","onClose","Box","sx","preventDefault","target","value","style","TextField","focused","label","required","Button","index","Backdrop","color","zIndex","theme","CircularProgress","getColName","possibleColumnNames","length","i","CSVToGeoJSON","CSVString","csvObject","strData","strDelimiter","objPattern","RegExp","arrData","arrMatches","exec","strMatchedValue","strMatchedDelimiter","replace","CSVToArray","latName","lonName","GeoJSON","item","hasOwnProperty","parseFloat","latLonColumnsToNumbers","firstRow","returnItem","forEach","columnName","shift","massageData","Point","DEFAULT_VISIBLE_LAYERS","getUserAuthData","createSelector","result","features","getMeData","getUserLayersData","getVisibleLayerTypesData","GetMeAction","LogOutAction","GetUserLayersAction","Menu","VisibleLayerTypesData","ToggleLayerTypeVisibilityAction","createLayerTypeSwitch","FormControlLabel","control","Switch","checked","onChange","Card","minWidth","xs","sm","Toolbar","variant","Typography","component","CardContent","FormGroup","connect","dispatch","ToggleLayerTypeVisibility","isMenuVisible","setIsMenuVisible","useTheme","displayModal","useMediaQuery","breakpoints","up","menu","showErrorMessage","detail","values","layerTypeFilter","is_public","includes","MainMap","ReactMapboxGl","accessToken","SubmitUserAuthAction","withRouter","useState","center","userLayers","setUserLayers","loginPopup","setLoginPopup","loading","setLoading","setError","allLayers","useEffect","getServerErrorMessage","layerTypes","filters","filter","some","filterLayers","layerData","geojson_data","containerStyle","height","antialias","right","onClick","Snackbar","autoHideDuration","Alert","severity","LoadingIndicator","App","className","path","Cockpit","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.47e870f7.chunk.js","sourcesContent":["const LocalStorageService = (function () {\n    var _service;\n    function _getService() {\n        if (!_service) {\n            _service = this;\n            return _service\n        }\n        return _service\n    }\n    function _setToken(tokenObj) {\n        tokenObj.access && localStorage.setItem('access_token', tokenObj.access);\n        tokenObj.refresh && localStorage.setItem('refresh_token', tokenObj.refresh);\n    }\n    function _getAccessToken() {\n        return localStorage.getItem('access_token');\n    }\n    function _getRefreshToken() {\n        return localStorage.getItem('refresh_token');\n    }\n    function _clearToken() {\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n    }\n    return {\n        getService: _getService,\n        setToken: _setToken,\n        getAccessToken: _getAccessToken,\n        getRefreshToken: _getRefreshToken,\n        clearToken: _clearToken\n    }\n})();\nexport default LocalStorageService;","import LocalStorageService from \"./localStorageService\";\nconst localStorageService = LocalStorageService.getService();\nexport default (api) => {\n    // Add a request interceptor\n    api.interceptors.request.use(\n        config => {\n            const token = localStorageService.getAccessToken();\n            if (token) {\n                config.headers['Authorization'] = 'Bearer ' + token;\n            }\n            // config.headers['Content-Type'] = 'application/json';\n            return config;\n        },\n        error => {\n            Promise.reject(error)\n        });\n    api.interceptors.response.use((response) => {\n        return response\n    },\n        function (error) {\n            const originalRequest = error.config;\n            if (error.response.status === 403 && !originalRequest._retry) {\n                const refreshToken = localStorageService.getRefreshToken();\n                if (!refreshToken) {\n                    // Re-throw the original error if we have no refresh token.\n                    throw error;\n                }\n\n                originalRequest._retry = true;\n                return api.post(`v1/token/refresh/`,\n                    {\n                        \"refresh\": localStorageService.getRefreshToken()\n                    })\n                    .then(res => {\n                        if (res.status === 200) {\n                            // 1) put token to LocalStorage\n                            localStorageService.setToken(res.data);\n\n                            // 2) Change Authorization header\n                            api.defaults.headers.common['Authorization'] = 'Bearer ' + localStorageService.getAccessToken();\n\n                            // 3) return originalRequest object with Axios.\n                            return api(originalRequest);\n                        }\n                    });\n            }\n\n            // return Error object with Promise\n            return Promise.reject(error);\n        });\n}","export const MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoiZW1pNDIwIiwiYSI6ImNqZW9leG5pZTAxYWwyeG83bHU0eHM0ZXcifQ.YWmk4Rp8FBGCLmpx_huJYw';\nexport const MAPBOX_DEFAULT_STYLE = 'mapbox://styles/mapbox/satellite-streets-v9';\nexport const MAP_DEFAULT_CENTER = [-64.273833, -31.006031]\nexport const API_BASE_URL = `https://api.hmap.forodeincendiosforestales.org/api`;\n\n","import axios from 'axios';\nimport Cookies from 'js-cookie';\nimport LocalStorageService from \"../../lib/localStorageService\";\nimport createAxiosInterceptors from \"../../lib/createAxiosInterceptors\";\n\nimport {\n    API_BASE_URL,\n} from '../../../config/config';\n\nconst localStorageService = LocalStorageService.getService();\n\nconst api = axios.create({ baseURL: API_BASE_URL, withCredentials: true });\n// Related to #37: handle auto JWT access and refresh token headers\n// (include headers and try to refresh it when we get 403)\n// Approach based on https://medium.com/swlh/handling-access-and-refresh-tokens-using-axios-interceptors-3970b601a5da\ncreateAxiosInterceptors(api);\n\nconst API = {\n    postAccountToken: function (email, password) {\n        return api.post(`v1/token/`, {\n            email,\n            password\n        })\n    },\n    logout: function () {\n        console.log(Cookies.get());\n        // TODO: implement logout / token blacklist\n        // server side. See https://medium.com/django-rest/logout-django-rest-framework-eb1b53ac6d35\n        localStorageService.clearToken();\n        // return api.post(`v1/accounts/logout/`)\n    },\n    getMe: function () {\n        return api.get(`v1/accounts/me/`);\n    },\n    getUserLayers: function () {\n        return api.get(`v1/layers/`);\n    }\n};\n\nexport default API;\n","import { takeEvery, put, call, all } from 'redux-saga/effects';\nimport API from '../apis';\nimport LocalStorageService from \"../../lib/localStorageService\";\nconst localStorageService = LocalStorageService.getService();\n\nfunction* getLatestModis24() {\n    try {\n        const latestPoints = (yield call(API.getLatestModis24));\n        return yield put(\n            {\n                type: 'GET_LATEST_MODIS_24_SUCCESS',\n                payload: latestPoints,\n            },\n        );\n    } catch (e) {\n        console.error('[SAGA ERROR]', e);\n    }\n}\n\nfunction* getLatestViirs24() {\n    try {\n        const latestPoints = (yield call(API.getLatestViirs24));\n        return yield put(\n            {\n                type: 'GET_LATEST_VIIRS_24_SUCCESS',\n                payload: latestPoints,\n            },\n        );\n    } catch (e) {\n        console.error('[SAGA ERROR]', e);\n    }\n}\n\nfunction* getLatestGoes() {\n    try {\n        const latestPoints = (yield call(API.getLatestGoes));\n        return yield put(\n            {\n                type: 'GET_LATEST_GOES_SUCCESS',\n                payload: latestPoints,\n            },\n        );\n    } catch (e) {\n        console.error('[SAGA ERROR]', e);\n    }\n}\n\nfunction* submitUserAuth(action) {\n    const { email, password } = action.payload;\n    let payload = {}\n    try {\n        payload = yield call(API.postAccountToken, email, password);\n        localStorageService.setToken(payload.data);\n        payload.isLoggedIn = true;\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_USER_AUTH_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* submitLogout() {\n    let payload = { isLoggedIn: false }\n    try {\n        (yield call(API.logout));\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_LOGOUT_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* submitGetMe() {\n    let payload = {}\n    try {\n        payload = (yield call(API.getMe)).data;\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_GET_ME_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* submitGetUserLayers() {\n    let payload = {}\n    try {\n        payload = (yield call(API.getUserLayers)).data;\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_GET_USER_LAYERS_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* actionWatcher() {\n    yield takeEvery('GET_LATEST_MODIS_24_EVENT', getLatestModis24)\n    yield takeEvery('GET_LATEST_VIIRS_24_EVENT', getLatestViirs24)\n    yield takeEvery('GET_LATEST_GOES_EVENT', getLatestGoes)\n    yield takeEvery('SUBMIT_USER_AUTH_EVENT', submitUserAuth)\n    yield takeEvery('SUBMIT_GET_ME_EVENT', submitGetMe)\n    yield takeEvery('SUBMIT_LOGOUT_EVENT', submitLogout)\n    yield takeEvery('GET_USER_LAYERS_EVENT', submitGetUserLayers)\n}\n\nexport default function* rootSaga() {\n    yield all([\n        actionWatcher(),\n    ]);\n}\n","const LayerType = {\n    PUBLIC: Symbol.for('LayerType.PUBLIC'),\n    PRIVATE: Symbol.for('LayerType.PRIVATE'),\n    ACTIVE_FIRES: Symbol.for('LayerType.ACTIVE_FIRES'),\n    BIG_FIRES: Symbol.for('LayerType.BIG_FIRES')\n  };\n\nLayerType.all = () => new Set([LayerType.PUBLIC, LayerType.PRIVATE, LayerType.ACTIVE_FIRES, LayerType.BIG_FIRES]);\n\nexport default Object.freeze(LayerType);\n  ","import LayerType from '../../models/layerType';\n\nconst VISIBLE_LAYERS_KEY = 'VISIBLE_LAYERS_KEY';\n\nconst getPersistedVisibleLayers = () => {\n  const persistedState = localStorage.getItem(VISIBLE_LAYERS_KEY);\n  return persistedState ? new Set(JSON.parse(persistedState).map(Symbol.for)) : LayerType.all();\n};\n\nconst persistVisibleLayers = (visibleLayers) => \n  localStorage.setItem(VISIBLE_LAYERS_KEY, visibleLayers && JSON.stringify([...visibleLayers].map(Symbol.keyFor)));\n\n\nconst deletePeristedVisibleLayers = () => localStorage.removeItem(VISIBLE_LAYERS_KEY);\n\nconst getInitialState =  () => ({\n  VisibleLayerTypes: getPersistedVisibleLayers()\n});\n\nexport default (state=getInitialState(), action) => {\n  \n  switch (action.type) {\n    case \"GET_LATEST_MODIS_24_SUCCESS\":\n      return {\n        ...state,\n        FIRMSLatestModis24Data: action.payload.data\n      };\n    case \"GET_LATEST_VIIRS_24_SUCCESS\":\n      return {\n        ...state,\n        FIRMSLatestViirs24Data: action.payload.data\n      };\n    case \"GET_LATEST_GOES_SUCCESS\":\n      return {\n        ...state,\n        GoesLatestData: action.payload.data\n      };\n    case \"SUBMIT_USER_AUTH_SUCCESS\":\n      return {\n        ...state,\n        UserAuthData: action.payload\n      };\n    case \"SUBMIT_GET_ME_SUCCESS\":\n        return {\n          ...state,\n          GetMeData: action.payload\n        };\n    case \"SUBMIT_LOGOUT_SUCCESS\":\n        if(action.payload.isLoggedIn === false) {\n          deletePeristedVisibleLayers();\n          return getInitialState();\n        }\n    case \"SUBMIT_GET_USER_LAYERS_SUCCESS\":\n      return {\n        ...state,\n        UserLayersData: action.payload\n      };\n    case \"TOGGLE_LAYER_TYPE_VISIBILITY\":\n      const {layerType} = action.payload;\n      const visibleLayers = new Set(state.VisibleLayerTypes);\n      visibleLayers.has(layerType) ? visibleLayers.delete(layerType) : visibleLayers.add(layerType);\n      persistVisibleLayers(visibleLayers);\n      return {\n        ...state,\n        VisibleLayerTypes: visibleLayers\n      }\n    default:\n    return state;\n  }\n};\n","import { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from 'redux-saga'\nimport rootSaga from './sagas';\nimport reducers from \"./reducers\";\n\nconst sagaMiddleware = createSagaMiddleware()\n\nfunction configureStore() {\n  const store = createStore(\n    reducers,\n    applyMiddleware(sagaMiddleware)\n  );\n  sagaMiddleware.run(rootSaga);\n  return store;\n}\n\nexport default configureStore;\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { GeoJSONLayer } from 'react-mapbox-gl';\n\nconst MapLayers = (props) => {\n    let layers = [];\n    props.layers.map(layer => {\n        if (props.hiddenLayers.indexOf(layer.id) === -1) {\n            if (layer.data) {\n                layers.push(<GeoJSONLayer\n                    id={layer.id}\n                    name={layer.id}\n                    key={layer.id}\n                    data={layer.data || null}\n                    symbolLayout={layer.symbolLayout}\n                    symbolPaint={layer.symbolPaint}\n                    linePaint={layer.linePaint}\n                    circlePaint={layer.circlePaint}\n                    fillPaint={layer.fillPaint}\n                    circleOnClick={(e) => {\n                        console.log(e.lngLat)\n                    }}\n                />)\n            } else {\n                layers.push(layer.layer);\n            }\n        }\n    })\n    return layers;\n};\n\nexport default MapLayers;","const styles = {\n    container:{\n        display:\"flex\",\n        position: \"absolute\",\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        outline: 'none'\n    },\n    form: {\n        container: {\n            background:\"white\",\n            width: \"400px\",\n            borderRadius:\"8px\",\n            padding: \"20px\",\n            boxShadow: \"0 2px 4px rgba(0, 0, 0, .2), 0 8px 16px rgba(0, 0, 0, .2)\",\n        },\n        inputs: {\n            display:\"flex\",\n            flexDirection: \"column\",\n            gap: \"10px\",\n        }\n    },\n\n}\n\nexport default styles;","\nimport React from \"react\";\nimport styles from './styles';\nimport Modal from '@mui/material/Modal';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\n\nconst LoginForm = (props) => {\n    const { open, setOpen } = props;\n    const handleClose = () => setOpen(false);\n    const { onSubmit } = props;\n    return (\n        <Modal\n            // Known issue TODO: the email field focused is not working as expected within the modal parent. \n            // Spent like 15m on it but couldn't find a proper workaround it.\n            // disableAutoFocus\n            disableEnforceFocus\n            open={open}\n            onClose={handleClose}\n        >\n            <Box sx={styles.container}>\n\n                <form onSubmit={(e) => { \n                        e.preventDefault(); \n                        onSubmit(e.target.email.value, e.target.password.value); \n                    }} \n                    style={styles.form.container}>\n                    <div style={{...styles.form.inputs}}>\n                        <TextField focused label=\"Email\" id=\"email\" name=\"email\" required />   \n                        <TextField label=\"Password\" type=\"password\" id=\"password\" name=\"password\"  required />\n                        <Button type=\"submit\">Login</Button>\n                    </div>\n                </form>\n            </Box>\n        </Modal>);\n}\n\nexport default LoginForm;","import React from 'react'\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\nfunction index() {\n    return (<Backdrop\n        sx={{ color: '#fff', zIndex: (theme) => 9999 }}\n        open={true}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>);\n}\n\nexport default index\n","import GeoJSON from 'geojson';\n\n// Conversion code from: https://github.com/gavinr/csv-to-geojson\n\nfunction getColName(data, possibleColumnNames) {\n    if (!data || !data.length) return null;\n    for (var i = 0; i < data[0].length; i++) {\n      if (possibleColumnNames.indexOf(data[0][i]) !== -1) {\n        return data[0][i];\n      }\n    }\n    return null;\n  }\n\nfunction massageData(data) {\n    if (!data || !data.length) return null;\n    var firstRow = data[0];\n    var map = data.map(function(item) {\n      var returnItem = {},\n        i = 0;\n      firstRow.forEach(function(columnName) {\n        returnItem[columnName] = item[i++];\n      });\n      return returnItem;\n    });\n    //get rid of header\n    map.shift();\n    return map;\n  }\n\nfunction latLonColumnsToNumbers(data, latName, lonName) {\n    return data.map(function(item) {\n      if (item.hasOwnProperty(latName)) {\n        item[latName] = parseFloat(item[latName]);\n      }\n      if (item.hasOwnProperty(lonName)) {\n        item[lonName] = parseFloat(item[lonName]);\n      }\n      return item;\n    });\n  }\n\nexport const CSVToArray = ( strData, strDelimiter ) => {\n    // Check to see if the delimiter is defined. If not,\n    // then default to comma.\n    strDelimiter = (strDelimiter || \",\");\n\n    // Create a regular expression to parse the CSV values.\n    var objPattern = new RegExp(\n        (\n            // Delimiters.\n            \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\n\n            // Quoted fields.\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\n\n            // Standard fields.\n            \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\n        ),\n        \"gi\"\n        );\n\n\n    // Create an array to hold our data. Give the array\n    // a default empty first row.\n    var arrData = [[]];\n\n    // Create an array to hold our individual pattern\n    // matching groups.\n    var arrMatches = null;\n\n\n    // Keep looping over the regular expression matches\n    // until we can no longer find a match.\n    while (arrMatches = objPattern.exec( strData )){\n\n        // Get the delimiter that was found.\n        var strMatchedDelimiter = arrMatches[ 1 ];\n\n        // Check to see if the given delimiter has a length\n        // (is not the start of string) and if it matches\n        // field delimiter. If id does not, then we know\n        // that this delimiter is a row delimiter.\n        if (\n            strMatchedDelimiter.length &&\n            strMatchedDelimiter !== strDelimiter\n            ){\n\n            // Since we have reached a new row of data,\n            // add an empty row to our data array.\n            arrData.push( [] );\n\n        }\n\n        var strMatchedValue;\n\n        // Now that we have our delimiter out of the way,\n        // let's check to see which kind of value we\n        // captured (quoted or unquoted).\n        if (arrMatches[ 2 ]){\n\n            // We found a quoted value. When we capture\n            // this value, unescape any double quotes.\n            strMatchedValue = arrMatches[ 2 ].replace(\n                new RegExp( \"\\\"\\\"\", \"g\" ),\n                \"\\\"\"\n                );\n\n        } else {\n\n            // We found a non-quoted value.\n            strMatchedValue = arrMatches[ 3 ];\n\n        }\n\n\n        // Now that we have our value string, let's add\n        // it to the data array.\n        arrData[ arrData.length - 1 ].push( strMatchedValue );\n    }\n\n    // Return the parsed data.\n    return( arrData );\n}\n\nexport const CSVToGeoJSON = (CSVString) => {\n    const csvObject = CSVToArray(CSVString);\n    var latName = getColName(csvObject, ['lat', 'Lat', 'LAT', 'latitude', 'Latitude', 'LATITUDE']);\n    var lonName = getColName(csvObject, ['lng', 'Lng', 'LNG', 'lon', 'Lon', 'LON', 'longitude', 'Longitude', 'LONGITUDE']);\n    return GeoJSON.parse(latLonColumnsToNumbers(massageData(csvObject), latName, lonName), {\n        Point: [latName, lonName]\n      }\n    )\n}","import { createSelector } from 'reselect';\nimport { CSVToGeoJSON } from '../utils';\nimport LayerType from '../../models/layerType';\n\nconst DEFAULT_VISIBLE_LAYERS = LayerType.all();\n\nconst getFIRMSLatestModis24 = state => state ? state.FIRMSLatestModis24Data : {};\nconst getFIRMSLatestViirs24 = state => state ? state.FIRMSLatestViirs24Data : {};\nconst getLatestGoes = state => state ? state.GoesLatestData : {};\nconst getUserAuthDataFromState = state => state ? state.UserAuthData : {};\nconst getGetMeDataFromState = state => state ? state.GetMeData : {};\nconst getUserLayers = state => state ? state.UserLayersData : [];\nconst getVisibleLayerTypes = state => state ? state.VisibleLayerTypes : DEFAULT_VISIBLE_LAYERS;\n\nexport const getFIRMSLatestModis24GeoJSON = createSelector(\n    [getFIRMSLatestModis24],\n    (CSVString) => ( CSVToGeoJSON(CSVString) )\n)\n\nexport const getFIRMSLatestViirs24GeoJSON = createSelector(\n    [getFIRMSLatestViirs24],\n    (CSVString) => ( CSVToGeoJSON(CSVString) )\n)\n\nexport const getLatestGoesGeoJSON = createSelector(\n    [getLatestGoes],\n    result => result || {features: []}\n)\n\nexport const getUserAuthData = createSelector(\n    [getUserAuthDataFromState],\n    result => result || {}\n)\n\nexport const getMeData = createSelector(\n    [getGetMeDataFromState],\n    result => result || {}\n)\n\nexport const getUserLayersData = createSelector(\n    [getUserLayers],\n    result => result || []\n)\n\nexport const getVisibleLayerTypesData = createSelector(\n    [getVisibleLayerTypes],\n    result => result || new Set()\n)\n\n","\nexport const FIRMSLatestModis24Action = {\n  type: \"GET_LATEST_MODIS_24_EVENT\",\n  payload: {}\n};\n\nexport const FIRMSLatestViirs24Action = {\n  type: \"GET_LATEST_VIIRS_24_EVENT\",\n  payload: {}\n};\n\nexport const GoesLatestAction = {\n  type: \"GET_LATEST_GOES_EVENT\",\n  payload: {}\n};\n\nexport const SubmitUserAuthAction = (email, password) => ({\n  type: \"SUBMIT_USER_AUTH_EVENT\",\n  payload: {email, password}\n});\n\nexport const GetMeAction = {\n  type: \"SUBMIT_GET_ME_EVENT\",\n  payload: {}\n};\n\nexport const LogOutAction = {\n  type: \"SUBMIT_LOGOUT_EVENT\",\n  payload: {}\n};\n\nexport const GetUserLayersAction = {\n  type: \"GET_USER_LAYERS_EVENT\",\n  payload: {}\n};\n\nexport const ToggleLayerTypeVisibility = (layerType) => ({\n  type: \"TOGGLE_LAYER_TYPE_VISIBILITY\",\n  payload: {layerType}\n});\n","import React from 'react'\nimport { connect } from \"react-redux\";\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Card from '@mui/material/Card';\n// import CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Modal from '@mui/material/Modal';\nimport Switch from '@mui/material/Switch';\nimport LayerType from '../../models/layerType';\nimport {\n    getVisibleLayerTypesData\n  } from \"../../app/selectors\";\nimport {\nToggleLayerTypeVisibility\n} from \"../../app/actions\";\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\n\n\nfunction Menu(props) {\n    const {VisibleLayerTypesData, ToggleLayerTypeVisibilityAction} = props;\n    const createLayerTypeSwitch = (layerType, label) => <FormControlLabel control={<Switch checked={VisibleLayerTypesData.has(layerType)} onChange={() => ToggleLayerTypeVisibilityAction(layerType)} />} label={label} />\n\n    return (\n        <Card sx={{ minWidth:275, position: \"absolute\", top: {xs:\"50%\", sm:\"10%\"}, left: {xs:\"50%\", sm:\"5%\"}, transform:{xs:'translate(-50%, -50%)', sm: 'translate(0%, 0%)'} }} >\n                      <Toolbar style={{ background: '#1A76D2' }} variant=\"dense\">\n          {/* <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" sx={{ mr: 2 }}>\n            <MenuIcon />\n          </IconButton> */}\n          <Typography variant=\"h6\" color=\"inherit\" component=\"div\" color=\"common.white\">\n            Humanitarian Map\n          </Typography>\n        </Toolbar>\n            <CardContent>\n  \n                <FormGroup>\n                    {createLayerTypeSwitch(LayerType.PUBLIC, \"Public Layers\")}\n                    {createLayerTypeSwitch(LayerType.PRIVATE, \"Private Layers\")}\n                    {createLayerTypeSwitch(LayerType.ACTIVE_FIRES, \"Fire Points\")}\n                    {createLayerTypeSwitch(LayerType.BIG_FIRES, \"Big Fires – Historical Data\")}\n                </FormGroup>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst LayersMenu = (props) => {\n    const {isMenuVisible, setIsMenuVisible} = props;\n    const theme = useTheme();\n    const bigScreen = useMediaQuery(theme.breakpoints.up('sm'));\n    const displayModal = !bigScreen;\n    const menu = <Menu {...props}></Menu>;\n    console.log(displayModal);\n    return   displayModal ?  <Modal open={isMenuVisible} onClose={() => setIsMenuVisible(false)}><div>{menu}</div></Modal> : menu;\n}\n\nconst mapStateToProps = (state) => ({\n    VisibleLayerTypesData: getVisibleLayerTypesData(state)\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    ToggleLayerTypeVisibilityAction: (layerType) => dispatch(ToggleLayerTypeVisibility(layerType)),\n    \n  });\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(LayersMenu);\n  \n","\n\nconst showErrorMessage = (error) => error.response ? error.response.data.detail || error.response.detail || Object.values(error.response.data)[0] : \"Ups, we are having troubles connecting to the server. Please, try again later.\";\n\n\nexport default showErrorMessage\n\n","import LayerType from '../models/layerType';\n\nconst layerTypeFilter = {\n    [LayerType.PUBLIC]:(layer) => layer.is_public,\n    [LayerType.PRIVATE]:(layer) => !layer.is_public,\n    [LayerType.ACTIVE_FIRES]:(layer) => [\"Firms Viirs\", \"Firms Modis\"].includes(layer.name),\n    [LayerType.BIG_FIRES]:(layer) => layer.name === \"bigfires\",\n};\n\nexport default (layers, layerTypes) => {\n    console.log(layers, layerTypes);\n    const filters = [...layerTypes].map(type => layerTypeFilter[type]);\n    return layers.filter(layer => filters.map(filter => filter(layer)).some(result => result));\n}","import React, { useState, useEffect } from \"react\";\nimport Button from '@mui/material/Button';\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert from '@mui/material/Alert';\nimport Box from '@mui/material/Box';\nimport { connect } from \"react-redux\";\nimport ReactMapboxGl from \"react-mapbox-gl\";\nimport MapLayers from \"../../components/Map/MapLayers/MapLayers\";\nimport LoginForm from \"../../components/LoginForm\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\nimport LayersMenu from \"../../components/LayersMenu\";\nimport {\n  MAP_DEFAULT_CENTER,\n  MAPBOX_ACCESS_TOKEN,\n  MAPBOX_DEFAULT_STYLE,\n} from \"../../../config/config\";\nimport {\n  SubmitUserAuthAction,\n  GetMeAction,\n  LogOutAction,\n  GetUserLayersAction,\n} from \"../../app/actions\";\nimport {\n  getUserAuthData,\n  getMeData,\n  getUserLayersData,\n  getVisibleLayerTypesData\n} from \"../../app/selectors\";\nimport { withRouter } from \"react-router-dom\";\nimport getServerErrorMessage from \"../../lib/getServerErrorMessage\";\nimport filterLayers from \"../../lib/filterLayers\";\n\nconst MainMap = ReactMapboxGl({\n  accessToken: MAPBOX_ACCESS_TOKEN,\n});\n\nconst Cockpit = (props) => {\n  const [center] = useState(MAP_DEFAULT_CENTER);\n  const [userLayers, setUserLayers] = useState([]);\n  const [loginPopup, setLoginPopup] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [isMenuVisible, setIsMenuVisible] = useState(false);\n\n  const allLayers = [...userLayers];\n\n  useEffect(() => {\n    props.GetMeAction();\n    props.GetUserLayersAction();\n  }, []);\n\n  useEffect(() => {\n    if (props.UserAuthData.error) {\n      setError(getServerErrorMessage(props.UserAuthData.error));\n      setLoading(false);\n    } else {\n      props.GetMeAction();\n    }\n  }, [props.UserAuthData]);\n\n  useEffect(() => {\n    if (props.GetMeData.email) {\n      setLoginPopup(false);\n      setLoading(false);\n      props.GetUserLayersAction();\n    } else {\n      setUserLayers([]);\n    }\n  }, [props.GetMeData.email]);\n\n  useEffect(() => {\n    if(props.UserLayersData.error) {\n      return;\n    }\n    setUserLayers(filterLayers(props.UserLayersData, props.VisibleLayerTypesData).map(layerData => ({...layerData, ...layerData.styles, id: JSON.stringify(layerData.id), data: layerData.geojson_data,   })));\n  }, [props.UserLayersData, props.VisibleLayerTypesData]);\n\n  \n  return (\n      <div>\n        <MainMap\n          style={MAPBOX_DEFAULT_STYLE}\n          center={center}\n          containerStyle={{\n            height: \"100vh\",\n            width: \"100vw\",\n          }}\n          antialias={true}\n        >\n          <MapLayers\n            layers={allLayers}\n            hiddenLayers={[]}\n          />\n\n        </MainMap>\n        <div style={{ position: \"absolute\", top: \"15px\", right: \"15px\" }}>\n            {!props.GetMeData.email ? <Button onClick={() => setLoginPopup(!loginPopup)} variant=\"contained\">Login</Button> : <Button onClick={props.LogOutAction} variant=\"contained\">Logout</Button>}\n        </div>\n\n        <Box display={{ xs: isMenuVisible ? \"block\" : \"none\", sm:\"block\" }}>\n          <LayersMenu isMenuVisible={isMenuVisible} setIsMenuVisible={setIsMenuVisible}/>\n        </Box>\n        {error && <Snackbar open={error} autoHideDuration={6000} onClose={() => setError(null)}>\n          <Alert onClose={() => setError(null)} severity=\"error\" sx={{ width: '100%' }}>\n          {error}\n          </Alert>\n        </Snackbar>}\n        {loginPopup && !props.UserAuthData.isLoggedIn && <LoginForm open={loginPopup} setOpen={setLoginPopup} onSubmit={(email, password) => {\n          setLoading(true);\n          props.SubmitUserAuthAction(email, password);\n        }}/>}\n        {loading && <LoadingIndicator/>}\n      </div>\n\n    );\n}\n\n\nconst mapStateToProps = (state) => ({\n  UserAuthData: getUserAuthData(state),\n  GetMeData: getMeData(state),\n  UserLayersData: getUserLayersData(state),\n  VisibleLayerTypesData: getVisibleLayerTypesData(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  SubmitUserAuthAction: (email, password) => dispatch(SubmitUserAuthAction(email, password)),\n  GetMeAction: () => dispatch(GetMeAction),\n  LogOutAction: () => dispatch(LogOutAction),\n  GetUserLayersAction: () => dispatch(GetUserLayersAction),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(Cockpit));\n","import React from 'react';\nimport Cockpit from '../Cockpit/Cockpit';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"\" component={Cockpit}/>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\nimport configureStore from './app/app/store';\nimport * as serviceWorker from './app/serviceWorker';\nimport App from './app/containers/App/App';\nimport './index.css';\n\nReactDOM.render(\n    <Provider store={configureStore()}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}